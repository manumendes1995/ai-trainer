<!doctype html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>AI Trainer</title>
  <meta name="theme-color" content="#0d1325" />
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="favicon.ico" />
  <style>
    :root{
      --bg:#0d1325; --panel:#142048; --muted:#b2c4f0;
      --brand:#6a5acd; --accent:#4ef0c0; --danger:#ff6b6b; --ok:#67e480;
    }
    *{box-sizing:border-box} html,body{margin:0;height:100%;color:#f0f4ff;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial}
    body{
      background:linear-gradient(160deg,#0d1325 0%,#1a2857 50%,#0d1325 100%);
      min-height:100vh;
    }
    a{color:inherit;text-decoration:none}
    header{position:sticky;top:0;z-index:20;background:rgba(13,19,37,.9);backdrop-filter:blur(6px);border-bottom:1px solid #223060;padding:10px 20px}
    nav{display:flex;gap:10px;justify-content:center}
    nav a{padding:8px 14px;border-radius:8px;background:#142048;color:#dce3ff}
    nav a.active{background:linear-gradient(135deg,#6a5acd,#4ef0c0);color:#0d1325;font-weight:700}
    main{padding:20px;max-width:1000px;margin:0 auto}
    .card{background:#142048;padding:20px;border-radius:14px;margin:10px 0;box-shadow:0 8px 20px rgba(0,0,0,.3)}
    h1,h2{margin:0 0 10px}
    input,select{padding:10px;border-radius:8px;border:none;margin:6px 0;width:100%}
    button{padding:12px 16px;border-radius:10px;border:none;cursor:pointer;font-weight:600}
    .btn-primary{background:linear-gradient(135deg,#6a5acd,#4ef0c0);color:#0d1325}
    .btn-ghost{background:transparent;border:1px solid #4ef0c0;color:#4ef0c0}
    video{width:100%;border-radius:14px;background:#000}
    footer{text-align:center;padding:20px;color:#9fb2e1}
    .hidden{display:none}
  </style>
</head>
<body>
  <header>
    <nav>
      <a href="#home" data-tab="home" class="active">Início</a>
      <a href="#workout" data-tab="workout">Treinos</a>
      <a href="#nutrition" data-tab="nutrition">Alimentação</a>
      <a href="#camera" data-tab="camera">Câmara</a>
    </nav>
  </header>

  <main>
    <!-- INÍCIO -->
    <section id="home" class="card">
      <h1>Bem-vindo ao AI Trainer</h1>
      <p>Junta-te a mais de <strong>1.000 pessoas</strong> a treinar com inteligência artificial.</p>
      <form id="signupForm">
        <input type="text" id="nome" placeholder="O teu nome" required />
        <input type="email" id="email" placeholder="O teu email" required />
        <button type="submit" class="btn-primary">Inscreve-te grátis</button>
      </form>
      <p id="signupMsg" style="margin-top:10px"></p>
    </section>

    <!-- TREINOS -->
    <section id="workout" class="card hidden">
      <h2>Gerar Treino</h2>
      <label>Sexo</label>
      <select id="wSexo"><option value="f">Feminino</option><option value="m">Masculino</option></select>
      <label>% Gordura</label>
      <input type="number" id="wFat" value="25" min="5" max="60"/>
      <label>Objetivo</label>
      <select id="wGoal"><option value="perder">Perder</option><option value="ganhar">Ganhar</option><option value="manter">Manter</option></select>
      <label>Dias/semana</label>
      <input type="number" id="wDays" value="4" min="2" max="6"/>
      <button class="btn-primary" id="btnGerarTreino">Gerar treino</button>
      <div id="treinoOut"></div>
    </section>

    <!-- ALIMENTAÇÃO -->
    <section id="nutrition" class="card hidden">
      <h2>Gerar Alimentação</h2>
      <label>Calorias alvo</label>
      <input type="number" id="nKcal" value="2000" min="1200" max="3500"/>
      <label>Preferência</label>
      <select id="nPref"><option value="omni">Omnívoro</option><option value="veg">Vegetariano</option><option value="lowcarb">Low-carb</option></select>
      <label>Refeições/dia</label>
      <input type="number" id="nMeals" value="4" min="3" max="5"/>
      <button class="btn-primary" id="btnGerarAlim">Gerar cardápio</button>
      <div id="alimOut"></div>
    </section>

    <!-- CÂMARA -->
    <section id="camera" class="card hidden">
      <h2>Correção com Câmara</h2>
      <video id="cameraVideo" autoplay playsinline muted></video>
      <div style="margin-top:10px">
        <button class="btn-primary" id="btnStartCam">Iniciar</button>
        <button class="btn-ghost" id="btnStopCam">Parar</button>
        <span id="camStatus">Pronto</span>
      </div>
    </section>
  </main>

  <footer>© AI Trainer — Todos os direitos reservados</footer>

  <script>
    // Tabs
    const tabs=["home","workout","nutrition","camera"];
    function showTab(t){
      tabs.forEach(id=>{
        document.getElementById(id).classList.toggle("hidden",id!==t);
        document.querySelector('nav a[data-tab="'+id+'"]').classList.toggle("active",id===t);
      });
    }
    window.addEventListener("hashchange",()=>showTab(location.hash.replace("#","")||"home"));
    showTab(location.hash.replace("#","")||"home");

    // Form inscrição
    document.getElementById("signupForm").addEventListener("submit",e=>{
      e.preventDefault();
      const nome=document.getElementById("nome").value;
      const email=document.getElementById("email").value;
      document.getElementById("signupMsg").textContent="Obrigado "+nome+"! Confirmação enviada para "+email;
    });

    // Treino
    document.getElementById("btnGerarTreino").addEventListener("click",()=>{
      const days=+document.getElementById("wDays").value;
      let out="";
      for(let d=1;d<=days;d++){
        out+=`<div class='card'><h3>Dia ${d}</h3><ul><li>Agachamento 3x12</li><li>Supino 3x10</li><li>Prancha 3x30s</li></ul></div>`;
      }
      document.getElementById("treinoOut").innerHTML=out;
    });

    // Alimentação
    document.getElementById("btnGerarAlim").addEventListener("click",()=>{
      const meals=+document.getElementById("nMeals").value;
      let out="";
      for(let m=1;m<=meals;m++){
        out+=`<div class='card'><strong>Refeição ${m}</strong><p>Exemplo de refeição saudável</p></div>`;
      }
      document.getElementById("alimOut").innerHTML=out;
    });

    // Câmara
    let camStream=null;
    const video=document.getElementById("cameraVideo");
    const status=document.getElementById("camStatus");
    document.getElementById("btnStartCam").onclick=async()=>{
      try{
        camStream=await navigator.mediaDevices.getUserMedia({video:true});
        video.srcObject=camStream;
        status.textContent="Câmara ativa";
      }catch(e){status.textContent="Erro: "+e.message;}
    };
    document.getElementById("btnStopCam").onclick=()=>{
      if(camStream){camStream.getTracks().forEach(t=>t.stop());}
      video.srcObject=null;
      status.textContent="Parada";
    };
  </script>
</body>
</html>
